<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=UTF-8" />
<title>Class: Relais::Dev::Common::Options</title>
<link rel="stylesheet" href="../../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../../_index.html">Index (O)</a> &raquo; 
    <span class='title'><a href="../../../Relais.html" title="Relais (module)">Relais</a></span> &raquo; <span class='title'><a href="../../Dev.html" title="Relais::Dev (module)">Dev</a></span> &raquo; <span class='title'><a href="../Common.html" title="Relais::Dev::Common (module)">Common</a></span>
     &raquo; 
    <span class="title">Options</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Relais::Dev::Common::Options 
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><a href="../Base/FixedStruct.html" title="Relais::Dev::Base::FixedStruct (class)">Relais::Dev::Base::FixedStruct</a></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">OpenStruct</li>
          
            <li class="next"><a href="../Base/FixedStruct.html" title="Relais::Dev::Base::FixedStruct (class)">Relais::Dev::Base::FixedStruct</a></li>
          
            <li class="next">Relais::Dev::Common::Options</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/relais-dev/common/options.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
Options and their default values for scripts and functions.
</p>
<p>
Options are traditionally handled within Ruby by juggling and merging
hashes. This works fine except for the danger of mispelling silently going
unnoticed:
</p>
<pre class="code">
  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:overwrite_data</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='rbrace token'>}</span>
  <span class='dot3 op'>...</span>
  <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:overwrite_date</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='dot3 op'>...</span>
  <span class='if if kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:overwrite_data</span><span class='rbrack token'>]</span>
  <span class='dot3 op'>...</span>
</pre>
<p>
and the slightly awkward lookup required to get and set value. This class
solves these problems by implementing options as an OpenStruct that cannot
add attributes after construction. Thus options are accessed as simple
attributes and attempting to access a mispelt options results in an error.
Also, readability is helped by making intent clear in the class name:
</p>
<pre class="code">
  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Options constant id'>Options</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:overwrite_data</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:message</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;foo&quot;</span><span class='rparen token'>)</span>
  <span class='dot3 op'>...</span>
  <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='overwrite_date identifier id'>overwrite_date</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>   <span class='comment val'># error!</span>
  <span class='dot3 op'>...</span>
  <span class='if if kw'>if</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='overwrite_data identifier id'>overwrite_data</span>        <span class='comment val'># easier</span>
  <span class='dot3 op'>...</span>
</pre>
<p>
Options can be created with the same syntax as OpenStruct:
</p>
<pre class="code">
  <span class='comment val'># pass keyword arguments</span>
  <span class='my_opt identifier id'>my_opt</span> <span class='assign token'>=</span> <span class='Options constant id'>Options</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:overwrite_data</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:message</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;foo&quot;</span><span class='rparen token'>)</span>
  <span class='comment val'># or a hash if you prefer</span>
  <span class='my_opt identifier id'>my_opt</span> <span class='assign token'>=</span> <span class='Options constant id'>Options</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:overwrite_data</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:message</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;foo&quot;</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4></h4>
      <pre class="example code">  <span class='def def kw'>def</span> <span class='myfunc identifier id'>myfunc</span> <span class='lparen token'>(</span><span class='arg1 identifier id'>arg1</span><span class='comma token'>,</span> <span class='arg2 identifier id'>arg2</span><span class='comma token'>,</span> <span class='opts identifier id'>opts</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
     <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Options constant id'>Options</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span>
       <span class='symbol val'>:overwrite_data</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span>
       <span class='symbol val'>:message</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span>  <span class='string val'>&quot;foo&quot;</span><span class='comma token'>,</span>
     <span class='rparen token'>)</span><span class='dot token'>.</span><span class='update! fid id'>update!</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span><span class='rparen token'>)</span>

<span class='Options constant id'>Options</span> <span class='is identifier id'>is</span> <span class='currently identifier id'>currently</span> <span class='a identifier id'>a</span> <span class='synonym identifier id'>synonym</span> <span class='for for kw'>for</span> <span class='lbrace token'>{</span><span class='Relais constant id'>Relais</span><span class='colon2 op'>::</span><span class='Dev constant id'>Dev</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='colon2 op'>::</span><span class='FixedStruct constant id'>FixedStruct</span><span class='rbrace token'>}</span>
<span class='although identifier id'>although</span> <span class='this identifier id'>this</span> <span class='may identifier id'>may</span> <span class='change identifier id'>change</span> <span class='at identifier id'>at</span> <span class='some identifier id'>some</span> <span class='later identifier id'>later</span> <span class='point identifier id'>point</span><span class='dot token'>.</span>
</pre>
    
  </div>

</div>

  
  
  
  
  

  
  
  
  
  
  <h3 class="inherited">Methods inherited from <a href="../Base/FixedStruct.html" title="Relais::Dev::Base::FixedStruct (class)">Relais::Dev::Base::FixedStruct</a></h3>
  <p class="inherited"><a href="../Base/FixedStruct.html#%3D%3D-instance_method" title="Relais::Dev::Base::FixedStruct#== (method)">#==</a>, <a href="../Base/FixedStruct.html#delete_field-instance_method" title="Relais::Dev::Base::FixedStruct#delete_field (method)">#delete_field</a>, <a href="../Base/FixedStruct.html#method_missing-instance_method" title="Relais::Dev::Base::FixedStruct#method_missing (method)">#method_missing</a>, <a href="../Base/FixedStruct.html#update%21-instance_method" title="Relais::Dev::Base::FixedStruct#update! (method)">#update!</a></p>

  <div id="method_missing_details" class="method_details_list">
  <h2>Dynamic Method Handling</h2>
  <p class="notice super">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
      in the class <a href="../Base/FixedStruct.html#method_missing-instance_method" title="Relais::Dev::Base::FixedStruct#method_missing (method)">Relais::Dev::Base::FixedStruct</a>
    
  </p>
  
</div>


</div>
    
    <div id="footer">
  Generated on Mon Feb  8 15:43:41 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>
  0.5.3 (ruby-1.8.5).
</div>

  </body>
</html>